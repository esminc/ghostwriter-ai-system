# 代筆さん機能 UI/UX要件追加検討

## 現状の課題認識

### 問題点
- **Claude Desktop依存**: 現在の設計はClaude Desktop + MCPサーバー前提
- **技術的ハードル**: チームメンバー全員がClaude Desktopを使っているわけではない
- **アクセシビリティ**: より広いメンバーに使ってもらうための入り口が必要

### 対象ユーザーの拡大
- Claude Desktop利用者（技術に詳しいメンバー）
- Slack利用者（全チームメンバー）
- Web UI利用者（ブラウザでアクセスしたいメンバー）
- Mobile利用者（外出先からも使いたいメンバー）

## UI/UX要件の追加検討

### 1. マルチインターフェース対応

#### A. Slack Bot インターフェース
**メリット**
- チーム全員が既にSlackを使用
- 学習コストが低い
- 通知・共有が簡単

**実装例**
```
# Slackでの利用例
@代筆さん okamoto-takuyaの代筆お願いします

# 行動入力
@代筆さん 今日の行動:
・バグ修正作業
・新人のコードレビュー
・MCP勉強

# 確認・投稿
@代筆さん 投稿OK
→ 「esa記事が投稿されました！ [記事を見る]」
```

#### B. Web UI インターフェース
**メリット**
- ブラウザがあれば誰でも利用可能
- リッチなUI/UX提供
- プレビュー機能の充実

**画面構成案**
```
1. ユーザー選択画面
   - ドロップダウンでチームメンバー選択
   - プロファイル情報のプレビュー

2. 行動入力画面
   - フリーテキスト入力エリア
   - 「おまかせ生成」ボタン
   - よく使う行動のテンプレート選択

3. プレビュー・確認画面  
   - 生成された日記のプレビュー
   - 編集機能
   - 投稿確認

4. 完了画面
   - 投稿完了通知
   - esa記事へのリンク
```

#### C. Mobile対応
**要件**
- レスポンシブWebデザイン
- スマホからの簡単操作
- プッシュ通知対応

### 2. 認証・権限管理

#### 認証方式
- **Slack OAuth**: Slack連携時の認証
- **esa OAuth**: esa APIアクセス用の認証
- **社内認証**: 既存の社内認証システム連携

#### 権限設定
```
レベル1: 自分の代筆のみ可能
レベル2: チームメンバーの代筆可能（要承認）
レベル3: 管理者権限（全機能利用可能）
```

### 3. ユーザビリティ向上

#### A. ガイド・ヘルプ機能
- **初回利用時のチュートリアル**
- **よくある質問（FAQ）**
- **利用例・サンプル表示**

#### B. テンプレート機能
```
定型パターンの提供:
・忙しい日テンプレート
・学習日テンプレート  
・会議多めテンプレート
・リモートワークテンプレート
・出社日テンプレート
```

#### C. お気に入り・履歴機能
- **よく代筆するユーザーのお気に入り登録**
- **過去の代筆履歴表示**
- **代筆統計（月次レポートなど）**

### 4. 通知・フィードバック機能

#### A. Slack通知
```
・代筆記事投稿完了通知
・承認待ち通知
・週次利用レポート
・エラー・障害通知
```

#### B. フィードバック収集
- **記事品質評価（5段階評価）**
- **改善提案の受付**
- **利用満足度調査**

## 技術アーキテクチャの見直し

### 1. システム構成

```
[Slack Bot] → [API Gateway] → [代筆サービス] → [esa API]
[Web UI]   ↗               ↗                  ↗
[Mobile]   ↗               ↗                  ↗
[Claude Desktop + MCP] → [MCP Server] --------↗
```

### 2. API設計

#### RESTful API エンドポイント
```
GET  /api/users              # ユーザー一覧取得
GET  /api/users/{id}/profile # プロファイル取得
POST /api/users/{id}/analyze # プロファイル分析実行
POST /api/ghostwrite         # 代筆生成
POST /api/esa/posts          # esa記事投稿
GET  /api/history           # 代筆履歴取得
```

### 3. データベース設計

#### テーブル構成
```sql
-- ユーザープロファイル
profiles (
  user_id, screen_name, writing_style, 
  interests, last_analyzed, cache_data
)

-- 代筆履歴
ghostwrite_history (
  id, user_id, ghostwriter_id, content,
  esa_post_id, created_at, quality_rating
)

-- テンプレート
templates (
  id, name, content, category, usage_count
)
```

## 段階的展開戦略

### Phase 1: Claude Desktop + MCP（現在）
- 技術に詳しいメンバー向け
- 機能検証・品質向上

### Phase 2: Slack Bot
- チーム全体への展開
- 利用率向上・フィードバック収集

### Phase 3: Web UI
- 外部からのアクセス対応
- リッチなユーザー体験提供

### Phase 4: Mobile最適化
- いつでもどこでも利用可能
- プッシュ通知・リマインダー機能

## 運用・保守要件

### 1. モニタリング
- **利用統計**: ユーザー別・時間別利用状況
- **品質メトリクス**: 生成品質・ユーザー満足度
- **システム監視**: API応答時間・エラー率

### 2. メンテナンス
- **プロファイル更新**: 定期的な学習データ更新
- **モデル改善**: 生成品質の継続的向上
- **機能追加**: ユーザーフィードバックに基づく改善

### 3. サポート体制
- **利用者サポート**: 使い方の質問対応
- **技術サポート**: システム障害対応
- **運用ルール**: 利用ガイドライン策定

## 成功指標の見直し

### 1. 利用率指標
- **アクティブユーザー数**: 月間利用者数
- **利用頻度**: ユーザー1人あたりの月間利用回数
- **UI別利用率**: Slack Bot vs Web UI vs Claude Desktop

### 2. 満足度指標
- **継続利用率**: 初回利用から3ヶ月後の継続率
- **推奨度**: Net Promoter Score (NPS)
- **品質評価**: 代筆記事の平均評価点

### 3. 文化的影響指標
- **日記投稿率**: チーム全体の日記投稿頻度変化
- **エンゲージメント**: 日記記事への反応・コメント数
- **チームコミュニケーション**: 日記を通じた情報共有量

---

## 次の検討事項

1. **どのUIを最優先で実装するか？**
2. **認証・権限管理の詳細設計**
3. **Slack Botの具体的な対話フロー設計**
4. **Web UIのワイヤーフレーム作成**
5. **技術スタックの選定**